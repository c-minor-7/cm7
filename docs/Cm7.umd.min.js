!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.Cm7=t()}(this,function(){"use strict";var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};var t,n,r=(function(t,n){t.exports=function(){var t="undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:{};function n(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function r(e,t){return e(t={exports:{}},t.exports),t.exports}var i=r(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.TokenError=class extends Error{constructor(e,t){if(super(e),this.message=e,this.token=t,!t||!t.errors)throw this;t.errors.push(this)}inspect(){return"SyntaxError: "+this.message}}});n(i),i.TokenError;var s=r(function(e,n){Object.defineProperty(n,"__esModule",{value:!0});const r=/^[A-Z0-9_]+$/,s=/(\?|\+|\*)$/,o=/^(@|&|!)/,l="WS";function a(e,t){let n=t.exec(e);return n&&0==n.index?0==n[0].length&&t.source.length>0?null:{type:null,text:n[0],rest:e.substr(n[0].length),start:0,end:n[0].length-1,fullText:n[0],errors:[],children:[],parent:null}:null}function c(e){let t=s.exec(e),n=o.exec(e),r=t&&t[0]||"",i=n&&n[0]||"",l={raw:e,name:e.replace(s,"").replace(o,""),isOptional:"?"==r||"*"==r,allowRepetition:"+"==r||"*"==r,atLeastOne:"+"==r,lookupPositive:"&"==i,lookupNegative:"!"==i,pinned:"@"==i,lookup:!1,isLiteral:!1};return l.isLiteral="'"==l.name[0]||'"'==l.name[0],l.lookup=l.lookupNegative||l.lookupPositive,l}function f(e,t){let n=c(e);return t.cachedRules[n.name]||null}function u(e,t){if(e.children){let n=e.children.filter(e=>e.type&&t.test(e.type));for(let t=0;t<n.length;t++){let r=e.children.indexOf(n[t]);-1!=r&&e.children.splice(r,1)}e.children.forEach(e=>u(e,t))}}n.readToken=a,n.parseRuleName=c,n.findRuleByName=f;const h=["EOF"];class d{constructor(e,t){this.grammarRules=e,this.options=t,this.debug=!1,this.cachedRules={};let n=[],r=[];if(e.forEach(e=>{let t=c(e.name);if(t.name in this.cachedRules)n.push("Duplicated rule "+t.name);else{if(this.cachedRules[t.name]=e,e.bnf&&e.bnf.length)e.bnf.forEach(t=>{if("string"==typeof t[0]&&c(t[0]).name==e.name){let t="Left recursion is not allowed, rule: "+e.name;-1==n.indexOf(t)&&n.push(t)}t.forEach(e=>{if("string"==typeof e){let t=c(e);t.isLiteral||-1!=r.indexOf(t.name)||-1!=h.indexOf(t.name)||r.push(t.name)}})});else{let t="Missing rule content, rule: "+e.name;-1==n.indexOf(t)&&n.push(t)}l==e.name&&(e.implicitWs=!1),e.implicitWs&&-1==r.indexOf(l)&&r.push(l),e.recover&&-1==r.indexOf(e.recover)&&r.push(e.recover)}}),r.forEach(e=>{e in this.cachedRules||n.push("Missing rule "+e)}),n.length)throw new Error(n.join("\n"))}getAST(e,t){t||(t=this.grammarRules.filter(e=>!e.fragment&&0!=e.name.indexOf("%"))[0].name);let n=this.parse(e,t);if(n){!function e(t,n){n.errors&&n.errors.length&&n.errors.forEach(e=>t.push(e)),n.children&&n.children.forEach(n=>e(t,n))}(n.errors,n),function e(t,n){t.start+=n,t.end+=n,t.children&&t.children.forEach(n=>e(n,t.start))}(n,0),u(n,/^%/),this.options&&this.options.keepUpperRules||u(n,r);let e=n.rest;e&&new i.TokenError("Unexpected end of input: \n"+e,n),function e(t){t.rest="",t.children&&t.children.forEach(t=>e(t))}(n),n.rest=e}return n}emitSource(){return"CANNOT EMIT SOURCE FROM BASE Parser"}parse(e,n,s=0){let o,u=null,h=c(n),d=this.debug&&!r.test(h.name);d&&console.log(new Array(s).join("│  ")+"Trying to get "+n+" from "+JSON.stringify(e.split("\n")[0]));let m=h.name,p=f(h.name,this);if("EOF"==h.name){if(e.length)return null;if(0==e.length)return{type:"EOF",text:"",rest:"",start:0,end:0,fullText:"",errors:[],children:[],parent:null}}try{if(!p&&h.isLiteral){let n=t.eval(h.name);if(""===n)return{type:"%%EMPTY%%",text:"",rest:e,start:0,end:0,fullText:"",errors:[],children:[],parent:null};o=new RegExp(n.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")),m=null}}catch(e){return null}if(o){let t=a(e,o);if(t)return t.type=m,t}else{let t=p.bnf;t instanceof Array&&t.forEach(t=>{if(u)return;let n=null,r={type:h.name,text:"",children:[],end:0,errors:[],fullText:"",parent:null,start:0,rest:e};p.fragment&&(r.fragment=!0);let o=e,f=0,m=t.length>0,E=!1;for(let e=0;e<t.length;e++)if("string"==typeof t[e]){let a,h=c(t[e]);m=m&&h.isOptional;let g=!1;do{if(a=null,p.implicitWs&&!(a=this.parse(o,h.name,s+1))){let e;do{if(!(e=this.parse(o,l,s+1)))break;r.text=r.text+e.text,r.end=r.text.length,e.parent=r,r.children.push(e),o=o.substr(e.text.length),f+=e.text.length}while(e&&e.text.length)}if(a=a||this.parse(o,h.name,s+1),h.lookupNegative){if(a)return;break}if(h.lookupPositive&&!a)return;if(!a){if(h.isOptional)break;if(h.atLeastOne&&g)break}if(a&&p.pinned==e+1&&(n=a,d&&console.log(new Array(s+1).join("│  ")+"└─ "+a.type+" PINNED")),a||(a=this.parseRecovery(p,o,s+1)),!a){if(!n)return;u=r,a={type:"SyntaxError",text:o,children:[],end:o.length,errors:[],fullText:"",parent:null,start:0,rest:""},o.length?new i.TokenError(`Unexpected end of input. Expecting ${h.name} Got: ${o}`,a):new i.TokenError(`Unexpected end of input. Missing ${h.name}`,a),d&&console.log(new Array(s+1).join("│  ")+"└─ "+a.type+" "+JSON.stringify(a.text))}if(g=!0,E=!0,"%%EMPTY%%"==a.type)break;a.start+=f,a.end+=f,!h.lookupPositive&&a.type&&(a.fragment?a.children&&a.children.forEach(e=>{e.start+=f,e.end+=f,e.parent=r,r.children.push(e)}):(a.parent=r,r.children.push(a))),h.lookup&&(a.lookup=!0),d&&console.log(new Array(s+1).join("│  ")+"└─ "+a.type+" "+JSON.stringify(a.text)),h.lookup||a.lookup||(r.text=r.text+a.text,r.end=r.text.length,o=o.substr(a.text.length),f+=a.text.length),r.rest=o}while(a&&h.allowRepetition&&o.length&&!a.lookup)}else{let n=a(o,t[e]);if(!n)return;d&&console.log(new Array(s+1).join("│  ")+"└> "+JSON.stringify(n.text)+t[e].source),E=!0,n.start+=f,n.end+=f,r.text=r.text+n.text,r.end=r.text.length,o=o.substr(n.text.length),f+=n.text.length,r.rest=o}E&&(u=r,d&&console.log(new Array(s).join("│  ")+"├<─┴< PUSHING "+u.type+" "+JSON.stringify(u.text)))}),u&&p.simplifyWhenOneChildren&&1==u.children.length&&(u=u.children[0])}return u||d&&console.log(n+" NOT RESOLVED FROM "+e),u}parseRecovery(e,t,n){if(e.recover&&t.length){let r=this.debug;r&&console.log(new Array(n+1).join("│  ")+"Trying to recover until token "+e.recover+" from "+JSON.stringify(t.split("\n")[0]+t.split("\n")[1]));let s,o={type:"SyntaxError",text:"",children:[],end:0,errors:[],fullText:"",parent:null,start:0,rest:""};do{if(s=this.parse(t,e.recover,n+1)){new i.TokenError('Unexpected input: "'+o.text+`" Expecting: ${e.name}`,o);break}o.text=o.text+t[0],o.end=o.text.length,t=t.substr(1)}while(!s&&t.length>0);if(o.text.length>0&&s)return r&&console.log(new Array(n+1).join("│  ")+"Recovered text: "+JSON.stringify(o.text)),o}return null}}n.Parser=d,n.default=d});n(s),s.readToken,s.parseRuleName,s.findRuleByName,s.Parser;const o=new(n(r(function(e,t){var n;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.RULES=[{name:"Grammar",bnf:[["RULE_S*","%Atomic*","EOF"]]},{name:"%Atomic",bnf:[["Production","RULE_S*"]],fragment:!0},{name:"Production",bnf:[["NCName","RULE_S*",'"::="',"RULE_WHITESPACE*","Choice","RULE_WHITESPACE*","RULE_EOL+","RULE_S*"]]},{name:"NCName",bnf:[[/[a-zA-Z][a-zA-Z_0-9]*/]]},{name:"Choice",bnf:[["SequenceOrDifference","%_Choice_1*"]],fragment:!0},{name:"%_Choice_1",bnf:[["RULE_WHITESPACE*",'"|"',"RULE_WHITESPACE*","SequenceOrDifference"]],fragment:!0},{name:"SequenceOrDifference",bnf:[["Item","RULE_WHITESPACE*","%_Item_1?"]]},{name:"%_Item_1",bnf:[["Minus","Item"],["Item*"]],fragment:!0},{name:"Minus",bnf:[['"-"']]},{name:"Item",bnf:[["RULE_WHITESPACE*","%Primary","PrimaryDecoration?"]],fragment:!0},{name:"PrimaryDecoration",bnf:[['"?"'],['"*"'],['"+"']]},{name:"DecorationName",bnf:[['"ebnf://"',/[^\x5D#]+/]]},{name:"%Primary",bnf:[["NCName"],["StringLiteral"],["CharCode"],["CharClass"],["SubItem"]],fragment:!0},{name:"SubItem",bnf:[['"("',"RULE_WHITESPACE*","Choice","RULE_WHITESPACE*",'")"']]},{name:"StringLiteral",bnf:[["'\"'",/[^"]*/,"'\"'"],['"\'"',/[^']*/,'"\'"']],pinned:1},{name:"CharCode",bnf:[['"#x"',/[0-9a-zA-Z]+/]]},{name:"CharClass",bnf:[["'['","'^'?","%RULE_CharClass_1+",'"]"']]},{name:"%RULE_CharClass_1",bnf:[["CharCodeRange"],["CharRange"],["CharCode"],["RULE_Char"]],fragment:!0},{name:"RULE_Char",bnf:[[/\x09/],[/\x0A/],[/\x0D/],[/[\x20-\x5c]/],[/[\x5e-\uD7FF]/],[/[\uE000-\uFFFD]/]]},{name:"CharRange",bnf:[["RULE_Char",'"-"',"RULE_Char"]]},{name:"CharCodeRange",bnf:[["CharCode",'"-"',"CharCode"]]},{name:"RULE_WHITESPACE",bnf:[["%RULE_WHITESPACE_CHAR*"],["Comment","RULE_WHITESPACE*"]]},{name:"RULE_S",bnf:[["RULE_WHITESPACE","RULE_S*"],["RULE_EOL","RULE_S*"]]},{name:"%RULE_WHITESPACE_CHAR",bnf:[[/\x09/],[/\x20/]],fragment:!0},{name:"Comment",bnf:[['"/*"',"%RULE_Comment_Body*",'"*/"']]},{name:"%RULE_Comment_Body",bnf:[['!"*/"',/[^*]/]],fragment:!0},{name:"RULE_EOL",bnf:[[/\x0D/,/\x0A/],[/\x0A/],[/\x0D/]]},{name:"Link",bnf:[["'['","Url","']'"]]},{name:"Url",bnf:[[/[^\x5D:\/?#]/,'"://"',/[^\x5D#]+/,"%Url1?"]]},{name:"%Url1",bnf:[['"#"',"NCName"]],fragment:!0}],e.parser=new s.Parser(e.RULES,{});const t=/^(!|&)/,n=/(\?|\+|\*)$/,r=/^%/;function i(e,i){if("string"==typeof e){if(t.test(e))return"";if(r.test(e)){let t=n.exec(e),r=t?t[0]+" ":"";return function(e,t){let n=s.findRuleByName(e,t);return n&&1==n.bnf.length&&1==n.bnf[0].length&&(n.bnf[0][0]instanceof RegExp||'"'==n.bnf[0][0][0]||"'"==n.bnf[0][0][0])}(e,i)?o(e,i)+r:"("+o(e,i)+")"+r}return e}return e.source.replace(/\\(?:x|u)([a-zA-Z0-9]+)/g,"#x$1").replace(/\[\\(?:x|u)([a-zA-Z0-9]+)-\\(?:x|u)([a-zA-Z0-9]+)\]/g,"[#x$1-#x$2]")}function o(e,t){let n=s.findRuleByName(e,t);return n?n.bnf.map(e=>(function(e,t){return e.map(e=>i(e,t)).join(" ")})(e,t)).join(" | "):"RULE_NOT_FOUND {"+e+"}"}function l(e){let t=[];return e.grammarRules.forEach(n=>{if(!/^%/.test(n.name)){let r=n.recover?" /* { recoverUntil="+n.recover+" } */":"";t.push(n.name+" ::= "+o(n.name,e)+r)}}),t.join("\n")}e.emit=l;let a=0;function c(e){return new RegExp(e.replace(/#x([a-zA-Z0-9]{4})/g,"\\u$1").replace(/#x([a-zA-Z0-9]{3})/g,"\\u0$1").replace(/#x([a-zA-Z0-9]{2})/g,"\\x$1").replace(/#x([a-zA-Z0-9]{1})/g,"\\x0$1"))}function f(e,t,n){let r=t.children.filter(e=>"SequenceOrDifference"==e.type).map(t=>(function(e,t,n){let r=null,i=[];return t.children.forEach((s,o)=>{"Minus"==s.type&&function(e,t){throw console.log("reberia restar "+t+" a "+e),new Error("Difference not supported yet")}(r,s);let l=t.children[o+1];switch(l=l&&"PrimaryDecoration"==l.type&&l.text||"",s.type){case"SubItem":let t="%"+(n+a++);f(e,s,t),i.push(""+t+l);break;case"NCName":case"StringLiteral":i.push(""+s.text+l);break;case"CharCode":case"CharClass":if(l){let t={name:"%"+(n+a++),bnf:[[c(s.text)]]};e.push(t),i.push(""+t.name+l)}else i.push(c(s.text));break;case"PrimaryDecoration":break;default:throw new Error(" HOW SHOULD I PARSE THIS? "+s.type+" -> "+JSON.stringify(s.text))}r=s}),i})(e,t,n)),i={name:n,bnf:r},s=null;r.forEach(e=>{s=s||e.recover,delete e.recover}),0==n.indexOf("%")&&(i.fragment=!0),s&&(i.recover=s),e.push(i)}function u(t){let n=e.parser.getAST(t);if(!n)throw new Error("Could not parse "+t);if(n.errors&&n.errors.length)throw n.errors[0];let r=[];return n.children.filter(e=>"Production"==e.type).map(e=>{let t=e.children.filter(e=>"NCName"==e.type)[0].text;f(r,e,t)}),r}e.getRules=u,e.Transform=function(e){return u(e.join(""))},e.Parser=class extends s.Parser{constructor(e,t){super(u(e),t)}emitSource(){return l(this)}}}(n||(n={})),t.default=n})).Parser)('cm7           ::= EOL* configs EOL+ song\n\nconfigs       ::= key_config\nkey_config    ::= "key" WS? "=" WS? note\nnote          ::= [ACDFG] "#" | [ABDEG] "b" | [A-G]\n\nsong          ::= section? (EOL+ section?)*\n\nsection       ::= ("::" WS* section_label WS* "::" EOL)? line (EOL line)*\nsection_label ::= [^:]+\n\nline          ::= WS* (EMPTY_LINE | chord_line) WS* (EOL WS* (EMPTY_LINE | lyrics_line) WS*)\n\nchord_line    ::= chord (WS+ chord)*\nchord         ::= relative_note quality? addition* base?\nquality       ::= "mM7" | "m7b5" | "m7" | "m" | "sus2" | "sus4" |"7" | "M7" | "6" | "9" | "aug7" | "aug" | "dim7" | "dim"\naddition      ::= "add" modifier? interval\nbase          ::= "/" relative_note\nrelative_note ::= ("1" | "2" | "3" | "4" | "5" | "6" | "7") ("#" | "b")?\ninterval      ::= "2" | "4" | "6" | "9" | "11" | "13"\nmodifier      ::= "#" | "b"\n\nlyrics_line   ::= lyrics? (lyrics_beat+ lyrics?)*\nlyrics        ::= [^\\n\\r()]+\nlyrics_beat   ::= "(" lyrics? ")"\n\nEMPTY_LINE    ::= "-"+\n\nWS            ::= [ \\t]+\nEOL           ::= [\\n\\r]\n\n');return e=>o.getAST(e)}()}(t={exports:{}},t.exports),t.exports),i=(n=r)&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n;const s=e=>({tagName:e.split(/[#.]/g)[0],id:(e.match(/#[^.]*/g)||[]).map(e=>e.slice(1))[0],classes:(e.match(/\.[^.#]*/g)||[]).map(e=>e.slice(1))});function o(e,{children:t=[]}={}){const{tagName:n,id:r,classes:i}=s(e),o=document.createElement(n);return r&&(o.id=r),o.className=i.join(" "),t.forEach(e=>{"string"==typeof e&&(e=document.createTextNode(e)),o.appendChild(e)}),o}function l(e,t){return e.children.filter(e=>e.type===t)}function a(e,t){return e.children.find(e=>e.type===t)}const c=e=>/^[1-7](#|b)?$/.test(e),f=e=>["mM7","m7b5","m7","m","sus2","sus4","7","M7","6","9","aug7","aug","dim7","dim"].includes(e),u=e=>/^add(#|b)?(2|4|6|9|11|13)/.test(e),h=(e,t)=>{const n={C:["C","D","E","F","G","A","B"],"C#":["C#","D#","F","F#","G#","A#","C"],Db:["Db","Eb","F","Gb","Ab","Bb","C"],D:["D","E","F#","G","A","B","C#"],"D#":["D#","F","G","G#","A#","C","D"],Eb:["Eb","F","G","Ab","Bb","C","D"],E:["E","F#","G#","A","B","C#","D#"],F:["F","G","A","Bb","C","D","E"],"F#":["F#","G#","A#","B","C#","D#","F"],Gb:["Gb","Ab","Bb","B","Db","Eb","F"],G:["G","A","B","C","D","E","F#"],"G#":["G#","A#","C","C#","D#","F","G"],Ab:["Ab","Bb","C","Db","Eb","F","G"],A:["A","B","C#","D","E","F#","G#"],"A#":["A#","C","D","D#","F","G","A"],Bb:["Bb","C","D","Eb","F","G","A"],B:["B","C#","D#","E","F#","G#","A#"]},r=Number.parseInt(e),i=(e.match(/[#b]/)||[""])[0];if(!r||r<0)throw Error(`Cm7: relativeNote (${e}) is not valid.`);if(!(t in n))throw Error(`Cm7: key (${t}) is not valid key. Please choose from `+Object.keys(n).join(", ")+".");return(e=>{const t={Cb:"B","E#":"F",Fb:"E","B#":"C"};if(e in t)return t[e];if(!/(bb|##|b#|#b)/.test(e))return e;const n=e.match(/[A-G]/)[0];if(/(#b|b#)/.test(e))return n;if(/##/.test(e))return(e=>{const t=String.fromCharCode(e.charCodeAt(0)+1);return"H"===t?"A":t})(n);if(/bb/.test(e))return(e=>{const t=String.fromCharCode(e.charCodeAt(0)-1);return"@"===t?"G":t})(n);throw Error("Cm7: shouldn't have reached here... ermmmmm...")})(n[t][(r-1)%7]+i)};class d{constructor({root:e,quality:t="",additions:n=[],base:r=""}){if(!c(e))throw Error(`Cm7: root (${e}) is not a valid relative note.`);if(""!==t&&!f(t))throw Error(`Cm7: quality (${t}) is not a valid quality.`);for(const e of n)if(!u(e))throw Error(`Cm7: addition (${e}) is not a valid addition.`);if(""!==r&&!c(r))throw Error(`Cm7: base (${r}) is not a valid relative note.`);Object.assign(this,{root:e,quality:t,additions:n,base:r})}display(e){const{root:t,quality:n,additions:r,base:i}=this,s=""===i?"":"/"+h(i,e);return h(t,e)+n+r.join("")+s}toDOM({cssClasses:e,key:t}){return o(`span.${e.chord}`,{children:[this.display(t)]})}static fromAST(e){const t=a(e,"relative_note").text,n=(()=>{try{return a(e,"quality").text}catch(e){return""}})(),r=l(e,"addition").map(({text:e})=>e),i=(()=>{try{return a(a(e,"base"),"relative_note").text}catch(e){return""}})();return new d({root:t,quality:n,additions:r,base:i})}}class m{constructor({chords:e,lyrics:t}){Object.assign(this,{chords:e,lyrics:t})}toDOM({cssClasses:e,key:t}){const n=[];return this.chords.length>0&&n.push(o(`div.${e.chordLine}`,{children:this.chords.map(n=>n.toDOM({cssClasses:e,key:t}))})),this.lyrics.length>0&&n.push(o(`div.${e.lyricLine}`,{children:this.lyrics.map(({type:t,text:n})=>"lyrics_beat"===t?o(`span.${e.lyricsBeat}`,{children:[n.slice(1,-1)]}):n)})),o(`div.${e.line}`,{children:n})}static fromAST(e){const t=a(e,"chord_line"),n=a(e,"lyrics_line");return new m({chords:t?t.children.map(d.fromAST):[],lyrics:n?n.children.map(({type:e,text:t})=>({type:e,text:t})):[]})}}class p{constructor({label:e,lines:t}){Object.assign(this,{label:e,lines:t})}toDOM({key:e,cssClasses:t}){return o(`div.${t.section}`,{children:[o(`div.${t.sectionLabel}`,{children:[this.label]}),...this.lines.map(n=>n.toDOM({key:e,cssClasses:t}))]})}static fromAST(e){const t=a(e,"section_label"),n=l(e,"line").map(m.fromAST);return new p({label:t?t.text.trim():"",lines:n})}}class E{constructor({configs:e,sections:t}){Object.assign(this,{configs:e,sections:t})}toDOM({cssClasses:e}){const{key:t}=this.configs;return o(`div.${e.song}`,{children:this.sections.map(n=>n.toDOM({key:t,cssClasses:e}))})}static fromAST(e){const t=a(e,"configs").text.split("\n").map(e=>e.split("=")).reduce((e,[t,n])=>({...e,[t.trim()]:n.trim()}),{}),n=a(e,"song").children.map(p.fromAST);return new E({configs:t,sections:n})}}function g([e,...t],[n,...r]){return void 0===e||void 0===n?[]:[[e,n],...g(t,r)]}var b=({el:e,cm7HTML:t,cssClasses:n})=>{if("string"==typeof e&&e.trim().length<=0)throw Error("Cm7: `el` is empty.");const r="string"==typeof e?document.querySelector(e):e;r.innerHTML=t;const i=r.querySelectorAll(`.${n.line}`);for(const e of i){const t=e.querySelectorAll(`.${n.chord}`),r=e.querySelectorAll(`.${n.lyricsBeat}`);for(const[e,n]of g(t,r))Object.assign(e.style,{position:"relative",left:n.offsetLeft-e.offsetLeft+"px"}),Object.assign(n.style,{display:"inline-block",minWidth:e.offsetWidth+"px"})}},y={cm7:"cm7",song:"cm7_song",section:"cm7_section",sectionLabel:"cm7_section_label",chord:"cm7_chord",line:"cm7_line",chordLine:"cm7_line_chords",lyricLine:"cm7_line_lyrics",lyricsBeat:"cm7_line_lyrics-beat"};return({el:e,src:t,cssClasses:n})=>{if("string"!=typeof t)throw Error("Cm7: `src` should be a string.");const r=i(t);if(null===r)throw Error("Cm7: `src` is not a valid cm7 source.");if(r.errors.length>0)throw r.errors.forEach(e=>console.error(e)),Error("Cm7: `src` is not a valid cm7 source. See the above errors.");const s=(({cssClasses:e,ast:t})=>{const n=E.fromAST(t);return o(`div.${e.cm7}`,{children:[n.toDOM({cssClasses:e})]}).innerHTML})({cssClasses:n={...y,...n},ast:r});return e&&b({el:e,cm7HTML:s,cssClasses:n}),{mount:e=>b({el:e,cm7HTML:s,cssClasses:n})}}});
